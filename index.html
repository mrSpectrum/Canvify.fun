<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A canvas tool for planning and analyzing both traditional and generative AI projects">
    <title>AI Canvas Analyzer</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/scheduler.css">
    <!-- Add favicon -->
   <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10' /%3E%3Cline x1='12' y1='6' x2='12' y2='12' /%3E%3Cline x1='12' y1='12' x2='16' y2='12' /%3E%3C/svg%3E">

</head>
<body>
    <main class="container">
        <div id="notification" class="notification"></div>
        <header>
            <h1>Canvify.fun</h1>
            <p class="subtitle">Plan, analyze, and document your Traditional & Generative AI projects</p>
            <div class="score-legend">
                <h3>Quality Score Legend</h3>
                <div class="legend-item">
                    <span class="legend-color high"></span>
                    <span class="legend-text">High (70-100%): Excellent content, specific and comprehensive</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color medium"></span>
                    <span class="legend-text">Medium (40-69%): Good content, could use more detail</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color low"></span>
                    <span class="legend-text">Low (0-39%): Needs significant improvement</span>
                </div>
            </div>
        </header>

        <form class="canvas" id="canvas-form">
            <section class="section" id="task-type" aria-labelledby="task-type-heading">
                <h2 id="task-type-heading">1. Task Type (Prediction/Generation)</h2>
                <textarea
                    name="task-type"
                    placeholder="What is the core AI task? (e.g., predict, classify, generate text/images/code, etc.)"
                    aria-label="Task type description"
                ></textarea>
            </section>

            <section class="section" id="human-judgment" aria-labelledby="human-judgment-heading">
                <h2 id="human-judgment-heading">2. Human Judgment & Oversight</h2>
                <textarea
                    name="human-judgment"
                    placeholder="What human review, judgment, or approval is required for the AI output?"
                    aria-label="Human judgment description"
                ></textarea>
            </section>

            <section class="section" id="action" aria-labelledby="action-heading">
                <h2 id="action-heading">3. Action</h2>
                <textarea
                    name="action"
                    placeholder="What action will be taken based on the AI output? (e.g., decision, publish, use internally)"
                    aria-label="Action description"
                ></textarea>
            </section>

            <section class="section" id="outcome" aria-labelledby="outcome-heading">
                <h2 id="outcome-heading">4. Outcome</h2>
                <textarea
                    name="outcome"
                    placeholder="What is the desired outcome or impact of using the AI output?"
                    aria-label="Outcome description"
                ></textarea>
            </section>

            <section class="section" id="input-data" aria-labelledby="input-data-heading">
                <h2 id="input-data-heading">5. Input Data / Prompts / Features</h2>
                <textarea
                    name="input-data"
                    placeholder="What input data, features, or prompts are needed to guide the AI?"
                    aria-label="Input data description"
                ></textarea>
            </section>

            <section class="section" id="training-data" aria-labelledby="training-data-heading">
                <h2 id="training-data-heading">6. Training/Fine-tuning Data</h2>
                <textarea
                    name="training-data"
                    placeholder="What data is used to train, pre-train, or fine-tune the AI model?"
                    aria-label="Training data description"
                ></textarea>
            </section>

            <section class="section" id="feedback-loop" aria-labelledby="feedback-loop-heading">
                <h2 id="feedback-loop-heading">7. Feedback Loop</h2>
                <textarea
                    name="feedback-loop"
                    placeholder="How will you collect feedback and use it to improve future AI outputs?"
                    aria-label="Feedback loop description"
                ></textarea>
            </section>

            <section class="section" id="value-proposition" aria-labelledby="value-proposition-heading">
                <h2 id="value-proposition-heading">8. Value Proposition</h2>
                <textarea
                    name="value-proposition"
                    placeholder="What is the business value of the AI solution? (e.g., efficiency, creativity, cost savings, accuracy)"
                    aria-label="Value proposition description"
                ></textarea>
            </section>

            <section class="section" id="risks-responsible-ai" aria-labelledby="risks-responsible-ai-heading">
                <h2 id="risks-responsible-ai-heading">9. Risks & Responsible AI</h2>
                <textarea
                    name="risks-responsible-ai"
                    placeholder="What are the unique risks (e.g., bias, hallucination, privacy, compliance) and what guardrails are needed?"
                    aria-label="Risks and responsible AI description"
                ></textarea>
            </section>

            <section class="section" id="model-selection" aria-labelledby="model-selection-heading">
                <h2 id="model-selection-heading">10. Model Selection & Prompt Engineering</h2>
                <textarea
                    name="model-selection"
                    placeholder="How will you select models and/or design prompts for optimal results? (optional)"
                    aria-label="Model selection description"
                ></textarea>
            </section>

            <section class="section" id="content-moderation" aria-labelledby="content-moderation-heading">
                <h2 id="content-moderation-heading">11. Content Moderation & Quality Control</h2>
                <textarea
                    name="content-moderation"
                    placeholder="What processes are in place to detect, filter, or correct inappropriate or low-quality outputs? (optional)"
                    aria-label="Content moderation description"
                ></textarea>
            </section>

            <section class="section" id="transparency-ux" aria-labelledby="transparency-ux-heading">
                <h2 id="transparency-ux-heading">12. Transparency & User Experience</h2>
                <textarea
                    name="transparency-ux"
                    placeholder="How will you communicate and design user interactions with the AI system? (optional)"
                    aria-label="Transparency and user experience description"
                ></textarea>
            </section>
        </form>

        <div class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <span id="sidebar-toggle" class="sidebar-toggle" title="Toggle sidebar">&times;</span>
                <h3>Canvas Tools</h3>
                <div class="button-group">
                    <button id="analyze-button" type="button" aria-controls="analysis-results" title="Analyze Canvas"><span class="button-icon">üîç</span><span class="button-text">Analyze Canvas</span></button>
                    <button id="scheduler-button" type="button" title="Open Event Scheduler"><span class="button-icon">üìÖ</span><span class="button-text">Event Scheduler</span></button>
                    <button id="save-button" type="button" title="Save canvas to browser storage and download as JSON"><span class="button-icon">üíæ</span><span class="button-text">Save Canvas</span></button>
                    <button id="load-button" type="button" title="Load canvas from browser storage or from a JSON file"><span class="button-icon">üìÇ</span><span class="button-text">Load Canvas</span></button>
                    <button id="export-button" type="button" title="Export canvas as PDF for printing"><span class="button-icon">üìÑ</span><span class="button-text">Export as PDF</span></button>
                </div>

                <div class="sidebar-info">
                    <h4>Canvas Tools Guide</h4>
                    <ul>
                        <li><strong>Analyze Canvas</strong> - Uses AI to analyze your canvas content and provide recommendations for improvement.</li>
                        <li><strong>Event Scheduler</strong> - Create, manage, and track tasks with deadlines for your AI project.</li>
                        <li><strong>Save Canvas</strong> - Saves your work to browser storage and downloads a JSON file that you can share or backup.</li>
                        <li><strong>Load Canvas</strong> - Loads your work from browser storage or from a JSON file that was previously saved.</li>
                        <li><strong>Export as PDF</strong> - Creates a printable PDF version of your canvas for sharing or documentation.</li>
                    </ul>
                </div>
            </div>
        </div>

        <section id="analysis-results" aria-live="polite"></section>

        <!-- Info section moved to sidebar -->
    </main>

    <!-- Event Scheduler Modal -->
    <div class="scheduler-modal" id="scheduler-modal">
        <div class="scheduler-content">
            <div class="scheduler-header">
                <h2>üìÖ Event Scheduler</h2>
                <div class="scheduler-controls">
                    <div class="view-toggle-container">
                        <label for="view-toggle">List</label>
                        <input type="checkbox" id="view-toggle" class="view-toggle">
                        <label for="view-toggle">Calendar</label>
                    </div>
                    <div class="scheduler-header-buttons">
                        <button class="header-btn" id="add-task-btn">+ Add Task</button>
                        <button class="header-btn" onclick="window.schedulerModule.exportTasks()">Export</button>
                        <button class="header-btn" onclick="window.schedulerModule.importTasks()">Import</button>
                    </div>
                    <button class="close-scheduler" id="close-scheduler">&times;</button>
                </div>
            </div>
            <div class="scheduler-body">
                <div class="tasks-list" id="tasks-list">
                    <!-- Tasks will be rendered here -->
                </div>
                <div class="calendar-view" id="calendar-view">
                    <!-- Calendar will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div class="task-modal" id="task-modal">
        <div class="task-modal-content">
            <div class="task-modal-header">
                <h3>Add New Task</h3>
                <button class="close-task-modal" id="close-task-modal">&times;</button>
            </div>
            <form class="task-form" id="task-form">
                <div class="form-group">
                    <label for="task-title">Task Title *</label>
                    <input type="text" id="task-title" name="title" required>
                </div>
                <div class="form-group">
                    <label for="task-description">Description</label>
                    <textarea id="task-description" name="description" placeholder="Optional task description..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-deadline">Deadline *</label>
                        <input type="date" id="task-deadline" name="deadline" required>
                    </div>
                    <div class="form-group">
                        <label for="task-priority">Priority</label>
                        <select id="task-priority" name="priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-assignee">Assignee</label>
                        <input type="text" id="task-assignee" name="assignee" placeholder="Optional assignee name...">
                    </div>
                    <div class="form-group">
                        <label for="task-status">Status</label>
                        <select id="task-status" name="status">
                            <option value="pending" selected>Pending</option>
                            <option value="in-progress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                </div>
            </form>
            <div class="task-modal-actions">
                <button type="button" class="btn-secondary" id="cancel-task">Cancel</button>
                <button type="button" class="btn-primary" id="save-task">Save Task</button>
            </div>
        </div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget" id="chat-widget">
        <div class="chat-button" id="chat-button">
            <span class="chat-icon">üí¨</span>
        </div>
        <div class="chat-container" id="chat-container">
            <div class="chat-header">
                <h3>AI Assistant</h3>
                <div class="chat-header-buttons">
                    <button class="header-button" id="clear-chat" title="Clear conversation">
                        <span class="clear-icon">üóëÔ∏è</span>
                    </button>
                    <button class="close-button" id="close-chat" title="Close chat">√ó</button>
                </div>
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be added here dynamically -->
            </div>
            <div class="chat-input-container">
                <textarea
                    id="chat-input"
                    placeholder="Ask for suggestions to improve your canvas..."
                    rows="2"
                    aria-label="Type your message"
                ></textarea>
                <button id="send-message" aria-label="Send message">
                    <span class="send-icon">‚û§</span>
                </button>
            </div>
            <div class="chat-status" id="chat-status">
                <span class="status-indicator"></span>
                <div class="model-selection">
                    <select id="model-selector" title="Select AI model">
                        <option value="">Loading models...</option>
                    </select>
                </div>
                <button id="check-connection" class="check-connection-btn" title="Check Ollama connection">‚Üª</button>
            </div>
            <div class="chat-disclaimer">
                <p><strong>Note:</strong> AI responses may not always be accurate. Please verify important information.</p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; <span id="current-year"></span> AI Canvas Analyzer Tool</p>
    </footer>

    <script src="js/script.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/scheduler.js"></script>
    <script>
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>